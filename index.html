<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conference Agenda Analyzer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- PDF.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        // Initialize PDF.js worker
        pdfjsLib = window['pdfjs-dist/build/pdf'];
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
</head>
<body>
    <div class="app-container">
        <!-- Side Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <i class="bi bi-calendar-event"></i>
                <span>CongressAI</span>
            </div>
            
            <div class="sidebar-menu">
                <button class="nav-item active" data-section="upload-section">
                    <i class="bi bi-upload"></i>
                    <span>Upload</span>
                </button>
                <button class="nav-item" data-section="summary-section">
                    <i class="bi bi-file-text"></i>
                    <span>Summary</span>
                </button>
                <button class="nav-item" data-section="topics-section">
                    <i class="bi bi-diagram-3"></i>
                    <span>Topics</span>
                </button>
                <button class="nav-item" data-section="speakers-section">
                    <i class="bi bi-people"></i>
                    <span>Speakers</span>
                </button>
                <button class="nav-item" data-section="msl-section">
                    <i class="bi bi-briefcase"></i>
                    <span>MSL Prep</span>
                </button>
                <button class="nav-item" data-section="research-section">
                    <i class="bi bi-robot"></i>
                    <span>Research Bot</span>
                </button>
                <button class="nav-item" data-section="deep-insights-section">
                    <i class="bi bi-graph-up"></i>
                    <span>Deep Insights</span>
                </button>
                <button class="nav-item" data-section="competitive-intel-section">
                    <i class="bi bi-building"></i>
                    <span>Competitive Intel</span>
                </button>
                <button class="nav-item" data-section="post-congress-section">
                    <i class="bi bi-journal-check"></i>
                    <span>Post-Congress</span>
                </button>
            </div>

            <div class="sidebar-footer">
                <button class="btn btn-link" id="settingsBtn" data-bs-toggle="modal" data-bs-target="#settingsModal">
                    <i class="bi bi-gear"></i>
                    <span>Settings</span>
                </button>
            </div>
        </nav>

        <!-- Settings Modal -->
        <div class="modal fade" id="settingsModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Settings</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="apiKeyInput" class="form-label">Venice.ai API Key</label>
                            <div class="input-group">
                                <input type="password" class="form-control" id="apiKeyInput" placeholder="Enter your Venice.ai API key">
                                <button class="btn btn-outline-secondary" type="button" id="toggleApiKey">
                                    <i class="bi bi-eye"></i>
                                </button>
                            </div>
                            <div id="apiKeyStatus" class="alert alert-info d-none mt-2">
                                Validating API key...
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" id="validateApiKey">Save & Validate</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Content Sections -->
            <div class="content-container">
                <!-- Upload Section -->
                <div id="upload-section" class="content-section active">
                    <div class="container">
                        <h2 class="mb-4">Upload Conference Agenda</h2>
                        <p class="text-muted mb-4">Upload a PDF agenda to analyze the conference content, speakers, and topics.</p>
                        
                        <!-- Example Agendas Section -->
                        <div class="card mb-4">
                            <div class="card-header">
                                <h5 class="mb-0">Example Agendas</h5>
                            </div>
                            <div class="card-body">
                                <p class="text-muted mb-3">Try out the analyzer with one of our example conference agendas:</p>
                                <div class="d-flex gap-3">
                                    <button type="button" class="btn btn-outline-primary" onclick="loadExampleAgenda('Next Pharma.pdf')">
                                        <i class="bi bi-file-pdf me-2"></i>
                                        Next Pharma Conference
                                    </button>
                                    <button type="button" class="btn btn-outline-primary" onclick="loadExampleAgenda('FLASCO.pdf')">
                                        <i class="bi bi-file-pdf me-2"></i>
                                        FLASCO Conference
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <form id="uploadForm" class="mb-4">
                            <div class="upload-area" id="dropZone">
                                <input type="file" id="pdfFile" accept="application/pdf" class="d-none">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-cloud-upload mb-3" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z"/>
                                    <path fill-rule="evenodd" d="M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z"/>
                                </svg>
                                <h4>Drag & drop your PDF here</h4>
                                <p class="text-muted">or</p>
                                <button type="button" class="btn btn-primary" onclick="document.getElementById('pdfFile').click()">
                                    Choose File
                                </button>
                                <p id="selectedFileName" class="mt-2 text-muted"></p>
                            </div>
                            
                            <div class="mt-4">
                                <label for="modelSelect" class="form-label">Select AI Model</label>
                                <select class="form-select" id="modelSelect" required>
                                    <option value="llama-3.3-70b" selected>Loading models...</option>
                                </select>
                            </div>
                            
                            <div class="mt-4 text-center">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="bi bi-search me-2"></i>
                                    Analyze Agenda
                                </button>
                            </div>
                        </form>
                        
                        <!-- Progress Circle -->
                        <div id="uploadProgress" class="d-none mt-4"></div>
                        
                        <div class="alert alert-info mt-4">
                            <i class="bi bi-info-circle me-2"></i>
                            <strong>Note:</strong> This application extracts text from PDFs for analysis. For image-based PDFs or complex layouts, you may get better results by converting your PDF to an image first using a tool like ImageMagick:
                            <code>convert -density 150 document.pdf -quality 90 document.png</code>
                        </div>
                    </div>
                </div>
                
                <!-- Summary Section -->
                <section id="summary-section" class="content-section">
                    <div class="section-header">
                        <h2>Agenda Summary</h2>
                        <p>A comprehensive overview of the conference agenda.</p>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <div id="agendaSummary" class="summary-content">
                                <div class="placeholder-text">Upload an agenda to see the summary</div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Conference Overview</h5>
                                </div>
                                <div class="card-body">
                                    <div id="conferenceStats" class="stats-container">
                                        <div class="stat-item">
                                            <div class="stat-icon"><i class="bi bi-calendar-date"></i></div>
                                            <div class="stat-info">
                                                <h6>Duration</h6>
                                                <div id="conferenceDuration">-</div>
                                            </div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-icon"><i class="bi bi-people"></i></div>
                                            <div class="stat-info">
                                                <h6>Speakers</h6>
                                                <div id="speakerCount">-</div>
                                            </div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-icon"><i class="bi bi-diagram-3"></i></div>
                                            <div class="stat-info">
                                                <h6>Topics</h6>
                                                <div id="topicCount">-</div>
                                            </div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-icon"><i class="bi bi-geo-alt"></i></div>
                                            <div class="stat-info">
                                                <h6>Location</h6>
                                                <div id="conferenceLocation">-</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Key Highlights</h5>
                                </div>
                                <div class="card-body">
                                    <ul id="conferenceHighlights" class="highlights-list">
                                        <li class="placeholder-text">Upload an agenda to see highlights</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Topics Section -->
                <section id="topics-section" class="content-section">
                    <div class="section-header">
                        <h2>Topic Analysis</h2>
                        <p>Explore the main topics and themes of the conference.</p>
                    </div>
                    <div class="row">
                        <div class="col-md-8">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Topic Relationships</h5>
                                </div>
                                <div class="card-body">
                                    <div id="topicGraph" class="graph-container">
                                        <div class="placeholder-text">Upload an agenda to see topic relationships</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Topic Distribution</h5>
                                </div>
                                <div class="card-body">
                                    <canvas id="topicChart" class="chart-container">
                                        <div class="placeholder-text">Upload an agenda to see topic distribution</div>
                                    </canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Therapeutic Areas</h5>
                                </div>
                                <div class="card-body">
                                    <div id="therapeuticAreas" class="tag-container">
                                        <div class="placeholder-text">Upload an agenda to see therapeutic areas</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Conference Overview Section -->
                <div id="overview-section" class="content-section">
                    <div class="section-header">
                        <h2>Conference Overview</h2>
                        <p>Key statistics and information about the conference.</p>
                    </div>
                    <div class="stats-container">
                        <!-- Stats will be dynamically inserted here -->
                    </div>
                </div>
                
                <!-- Speaker Analysis Section -->
                <div id="speakers-section" class="content-section">
                    <div class="section-header">
                        <h2>Speaker Analysis</h2>
                        <p>Explore information about key speakers and their expertise.</p>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h5 class="card-title">Speaker Roles Distribution</h5>
                                    <div class="chart-container">
                                        <canvas id="speakerRolesChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-4">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h5 class="card-title">Session Types Distribution</h5>
                                    <div class="chart-container">
                                        <canvas id="sessionTypesChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title mb-4">Speakers & Panelists</h5>
                            <div class="search-container mb-4">
                                <input type="text" id="speakerSearchInput" class="form-control" placeholder="Search speakers...">
                            </div>
                            <div id="speakersList">
                                <!-- Speakers will be dynamically inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- MSL Preparation Section -->
                <section id="msl-section" class="content-section">
                    <div class="section-header">
                        <h2>MSL Preparation Guide</h2>
                        <p>Recommendations for Medical Science Liaisons preparing for this conference.</p>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h5>Preparation Recommendations</h5>
                        </div>
                        <div class="card-body">
                            <div id="mslPreparation" class="msl-content">
                                <div class="placeholder-text">Upload an agenda to see MSL preparation recommendations</div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Key Opinion Leaders</h5>
                                </div>
                                <div class="card-body">
                                    <ul id="kolList" class="kol-list">
                                        <li class="placeholder-text">Upload an agenda to see KOLs</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Priority Sessions</h5>
                                </div>
                                <div class="card-body">
                                    <ul id="prioritySessions" class="session-list">
                                        <li class="placeholder-text">Upload an agenda to see priority sessions</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Research Bot Section -->
                <div id="research-section" class="content-section">
                    <h2>Research Bot</h2>
                    <p class="section-description">Deep dive into conference topics with AI-powered research assistance.</p>
                    
                    <div class="research-container">
                        <div class="research-settings mb-4">
                            <label for="researchModel" class="form-label">Select AI Model</label>
                            <select class="form-select" id="researchModel">
                                <option value="llama-3.3-70b" selected>Llama 3.3 70B</option>
                                <option value="llama-3.2-3b">Llama 3.2 3B</option>
                                <option value="mistral-31-24b">Mistral 3.1 24B</option>
                            </select>
                        </div>
                        
                        <div class="chat-container">
                            <div class="chat-messages" id="chatMessages"></div>
                            <div class="chat-input-container">
                                <div class="input-group">
                                    <input type="text" class="form-control" id="chatInput" 
                                           placeholder="Ask a question about the conference...">
                                    <button class="btn btn-primary" id="sendMessage">
                                        <i class="bi bi-send"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Deep Insights Section -->
                <div id="deep-insights-section" class="content-section">
                    <div class="section-header">
                        <h2>Deep Insights</h2>
                        <p>Advanced analysis of abstract submission patterns and trends.</p>
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle-fill me-2"></i>
                            <strong>MOCKUP:</strong> This is a demonstration of potential features. Real implementation requires abstract data integration.
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h5>Abstract Submission Tracker</h5>
                                </div>
                                <div class="card-body">
                                    <!-- Replace canvas with static chart -->
                                    <div class="static-chart">
                                        <div class="chart-bars">
                                            <div class="chart-bar" style="height: 100%; background-color: #36A2EB;">
                                                <div class="chart-value">56</div>
                                                <div class="chart-label">Total</div>
                                            </div>
                                            <div class="chart-bar" style="height: 66%; background-color: #28a745;">
                                                <div class="chart-value">37</div>
                                                <div class="chart-label">Accepted</div>
                                            </div>
                                            <div class="chart-bar" style="height: 25%; background-color: #dc3545;">
                                                <div class="chart-value">14</div>
                                                <div class="chart-label">Rejected</div>
                                            </div>
                                            <div class="chart-bar" style="height: 9%; background-color: #ffc107;">
                                                <div class="chart-value">5</div>
                                                <div class="chart-label">Pending</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer text-muted">
                                    <small>Data represents internal abstract submissions for ASCO 2023</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h5>Abstract Status</h5>
                                </div>
                                <div class="card-body">
                                    <!-- Replace stats container and canvas with card-based layout -->
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <div class="status-card">
                                                <div class="status-icon bg-success">
                                                    <i class="bi bi-check-circle"></i>
                                                </div>
                                                <div class="status-info">
                                                    <div class="status-title">Accepted</div>
                                                    <div class="status-value">37</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <div class="status-card">
                                                <div class="status-icon bg-danger">
                                                    <i class="bi bi-x-circle"></i>
                                                </div>
                                                <div class="status-info">
                                                    <div class="status-title">Rejected</div>
                                                    <div class="status-value">14</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <div class="status-card">
                                                <div class="status-icon bg-warning">
                                                    <i class="bi bi-hourglass-split"></i>
                                                </div>
                                                <div class="status-info">
                                                    <div class="status-title">Pending</div>
                                                    <div class="status-value">5</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <div class="status-card">
                                                <div class="status-icon bg-info">
                                                    <i class="bi bi-star"></i>
                                                </div>
                                                <div class="status-info">
                                                    <div class="status-title">Oral Presentations</div>
                                                    <div class="status-value">12</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Oncology Subspecialty Representation</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <canvas id="subspecialtyChart" height="300"></canvas>
                                        </div>
                                        <div class="col-md-4">
                                            <h6 class="mb-3">Key Drug Categories</h6>
                                            <ul class="category-list">
                                                <li>
                                                    <span class="category-badge" style="background-color: #FF6384;">Small Molecules</span>
                                                    <span class="category-count">23 abstracts</span>
                                                </li>
                                                <li>
                                                    <span class="category-badge" style="background-color: #36A2EB;">Monoclonal Antibodies</span>
                                                    <span class="category-count">18 abstracts</span>
                                                </li>
                                                <li>
                                                    <span class="category-badge" style="background-color: #FFCE56;">CAR-T Therapies</span>
                                                    <span class="category-count">15 abstracts</span>
                                                </li>
                                                <li>
                                                    <span class="category-badge" style="background-color: #4BC0C0;">Antibody-Drug Conjugates</span>
                                                    <span class="category-count">12 abstracts</span>
                                                </li>
                                                <li>
                                                    <span class="category-badge" style="background-color: #9966FF;">Checkpoint Inhibitors</span>
                                                    <span class="category-count">11 abstracts</span>
                                                </li>
                                                <li>
                                                    <span class="category-badge" style="background-color: #FF9F40;">BiTE Therapies</span>
                                                    <span class="category-count">7 abstracts</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Competitive Intelligence Section -->
                <div id="competitive-intel-section" class="content-section">
                    <div class="section-header">
                        <h2>Competitive Intelligence</h2>
                        <p>Analysis of competitive landscape across abstract submissions and presentations.</p>
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle-fill me-2"></i>
                            <strong>MOCKUP:</strong> This is a demonstration using example data. Real implementation would use actual congress data.
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-md-7">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h5>GI Oncology - Company Representation</h5>
                                </div>
                                <div class="card-body">
                                    <canvas id="companyRepChart" height="300"></canvas>
                                </div>
                                <div class="card-footer text-muted">
                                    <small>Based on accepted abstracts at ASCO GI 2023</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h5>Top 5 Companies by Presentation Type</h5>
                                </div>
                                <div class="card-body">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Company</th>
                                                <th>Oral</th>
                                                <th>Poster</th>
                                                <th>Total</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Roche/Genentech</td>
                                                <td>8</td>
                                                <td>16</td>
                                                <td>24</td>
                                            </tr>
                                            <tr>
                                                <td>Merck</td>
                                                <td>7</td>
                                                <td>15</td>
                                                <td>22</td>
                                            </tr>
                                            <tr>
                                                <td>AstraZeneca</td>
                                                <td>6</td>
                                                <td>13</td>
                                                <td>19</td>
                                            </tr>
                                            <tr>
                                                <td>BMS</td>
                                                <td>5</td>
                                                <td>12</td>
                                                <td>17</td>
                                            </tr>
                                            <tr>
                                                <td>Pfizer</td>
                                                <td>4</td>
                                                <td>10</td>
                                                <td>14</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5>GI Cancer Types - Study Phase Distribution</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <canvas id="cancerTypeChart" height="300"></canvas>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="phase-legend">
                                                <h6>Study Phases</h6>
                                                <div class="phase-item">
                                                    <span class="phase-color" style="background-color: #FF6384;"></span>
                                                    <span>Phase I</span>
                                                </div>
                                                <div class="phase-item">
                                                    <span class="phase-color" style="background-color: #36A2EB;"></span>
                                                    <span>Phase II</span>
                                                </div>
                                                <div class="phase-item">
                                                    <span class="phase-color" style="background-color: #FFCE56;"></span>
                                                    <span>Phase III</span>
                                                </div>
                                                <div class="phase-item">
                                                    <span class="phase-color" style="background-color: #4BC0C0;"></span>
                                                    <span>Phase IV</span>
                                                </div>
                                                <div class="phase-item">
                                                    <span class="phase-color" style="background-color: #9966FF;"></span>
                                                    <span>Real-World Evidence</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Key Mechanisms of Action</h5>
                                </div>
                                <div class="card-body">
                                    <canvas id="moaChart" height="250"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Biomarker Utilization</h5>
                                </div>
                                <div class="card-body">
                                    <canvas id="biomarkerChart" height="250"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Post-Congress Section -->
                <div id="post-congress-section" class="content-section">
                    <div class="section-header">
                        <h2>Post-Congress Analysis</h2>
                        <p>Comprehensive analysis of presented data and insights from the congress.</p>
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle-fill me-2"></i>
                            <strong>MOCKUP:</strong> This demonstration shows how GenAI can analyze various unstructured data sources post-congress.
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5>Congress Data Sources</h5>
                                    <button class="btn btn-sm btn-outline-primary">
                                        <i class="bi bi-upload me-1"></i> Upload New Data
                                    </button>
                                </div>
                                <div class="card-body">
                                    <div class="data-sources">
                                        <div class="data-source-item">
                                            <div class="data-source-icon"><i class="bi bi-file-earmark-pdf"></i></div>
                                            <div class="data-source-info">
                                                <h6>Presentation PDFs</h6>
                                                <div class="data-source-meta">27 files processed</div>
                                            </div>
                                            <div class="data-source-status text-success">
                                                <i class="bi bi-check-circle"></i>
                                            </div>
                                        </div>
                                        <div class="data-source-item">
                                            <div class="data-source-icon"><i class="bi bi-file-earmark-ppt"></i></div>
                                            <div class="data-source-info">
                                                <h6>PowerPoint Presentations</h6>
                                                <div class="data-source-meta">43 files processed</div>
                                            </div>
                                            <div class="data-source-status text-success">
                                                <i class="bi bi-check-circle"></i>
                                            </div>
                                        </div>
                                        <div class="data-source-item">
                                            <div class="data-source-icon"><i class="bi bi-image"></i></div>
                                            <div class="data-source-info">
                                                <h6>Poster Images</h6>
                                                <div class="data-source-meta">65 files processed</div>
                                            </div>
                                            <div class="data-source-status text-success">
                                                <i class="bi bi-check-circle"></i>
                                            </div>
                                        </div>
                                        <div class="data-source-item">
                                            <div class="data-source-icon"><i class="bi bi-file-earmark-text"></i></div>
                                            <div class="data-source-info">
                                                <h6>MSL Field Notes</h6>
                                                <div class="data-source-meta">19 files processed</div>
                                            </div>
                                            <div class="data-source-status text-success">
                                                <i class="bi bi-check-circle"></i>
                                            </div>
                                        </div>
                                        <div class="data-source-item">
                                            <div class="data-source-icon"><i class="bi bi-file-earmark-medical"></i></div>
                                            <div class="data-source-info">
                                                <h6>Clinical Trial Updates</h6>
                                                <div class="data-source-meta">31 files processed</div>
                                            </div>
                                            <div class="data-source-status text-success">
                                                <i class="bi bi-check-circle"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-md-7">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h5>Newly Released Data by Company</h5>
                                </div>
                                <div class="card-body">
                                    <canvas id="newDataReleasesChart" height="300"></canvas>
                                </div>
                                <div class="card-footer text-muted">
                                    <small>Representing previously unreleased data from ASCO 2023</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h5>Top Breakthrough Announcements</h5>
                                </div>
                                <div class="card-body">
                                    <ul class="breakthrough-list">
                                        <li>
                                            <div class="breakthrough-company">Merck</div>
                                            <div class="breakthrough-title">KEYNOTE-811: Pembrolizumab + trastuzumab shows 27% risk reduction in HER2+ gastric cancer</div>
                                        </li>
                                        <li>
                                            <div class="breakthrough-company">AstraZeneca</div>
                                            <div class="breakthrough-title">TROPION-Lung01: Datopotamab deruxtecan achieves 34% response rate in previously treated NSCLC</div>
                                        </li>
                                        <li>
                                            <div class="breakthrough-company">Roche</div>
                                            <div class="breakthrough-title">IMpower010: 5-year survival data shows sustained benefit of adjuvant atezolizumab in NSCLC</div>
                                        </li>
                                        <li>
                                            <div class="breakthrough-company">BMS</div>
                                            <div class="breakthrough-title">CheckMate 648: First-line nivolumab + chemotherapy shows improved survival in esophageal SCC</div>
                                        </li>
                                        <li>
                                            <div class="breakthrough-company">Pfizer</div>
                                            <div class="breakthrough-title">JAVELIN Bladder 100: Long-term follow-up confirms survival benefit of avelumab maintenance</div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>MSL Insights Analysis</h5>
                                </div>
                                <div class="card-body">
                                    <!-- Replace canvas with static chart -->
                                    <div class="static-horizontal-chart">
                                        <div class="horizontal-chart-item">
                                            <div class="horizontal-label">Treatment Approaches</div>
                                            <div class="horizontal-bar-container">
                                                <div class="horizontal-bar" style="width: 100%; background-color: #4BC0C0;">
                                                    <span class="horizontal-value">35</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="horizontal-chart-item">
                                            <div class="horizontal-label">Biomarkers</div>
                                            <div class="horizontal-bar-container">
                                                <div class="horizontal-bar" style="width: 80%; background-color: #4BC0C0;">
                                                    <span class="horizontal-value">28</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="horizontal-chart-item">
                                            <div class="horizontal-label">Adverse Events</div>
                                            <div class="horizontal-bar-container">
                                                <div class="horizontal-bar" style="width: 63%; background-color: #4BC0C0;">
                                                    <span class="horizontal-value">22</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="horizontal-chart-item">
                                            <div class="horizontal-label">Pipeline Interest</div>
                                            <div class="horizontal-bar-container">
                                                <div class="horizontal-bar" style="width: 51%; background-color: #4BC0C0;">
                                                    <span class="horizontal-value">18</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="horizontal-chart-item">
                                            <div class="horizontal-label">Competitive Data</div>
                                            <div class="horizontal-bar-container">
                                                <div class="horizontal-bar" style="width: 43%; background-color: #4BC0C0;">
                                                    <span class="horizontal-value">15</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="horizontal-chart-item">
                                            <div class="horizontal-label">Patient Management</div>
                                            <div class="horizontal-bar-container">
                                                <div class="horizontal-bar" style="width: 34%; background-color: #4BC0C0;">
                                                    <span class="horizontal-value">12</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-center mt-3">
                                        <small class="text-muted">Based on 74 MSL field reports from the congress</small>
                                    </div>
                                    <div class="insights-summary mt-3">
                                        <h6>Key MSL Insights:</h6>
                                        <ul>
                                            <li>Strong KOL interest in novel biomarker-driven treatment approaches</li>
                                            <li>Increased queries about combination therapies with immune checkpoint inhibitors</li>
                                            <li>Rising concerns about managing adverse events from novel therapies</li>
                                            <li>High engagement at sessions covering early pipeline compounds</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>Post-Congress Report</h5>
                                </div>
                                <div class="card-body">
                                    <div class="report-preview">
                                        <div class="report-header">
                                            <h6>ASCO 2023 - Executive Summary</h6>
                                            <p class="text-muted">Generated by CongressAI on June 15, 2023</p>
                                        </div>
                                        <div class="report-content">
                                            <p>The 2023 ASCO Annual Meeting showcased significant advances in oncology treatments with particular emphasis on precision medicine approaches and novel immunotherapy combinations. Three major themes emerged:</p>
                                            
                                            <ol>
                                                <li>
                                                    <strong>Biomarker-driven therapeutic strategies</strong> continue to refine patient selection and improve outcomes across multiple tumor types.
                                                </li>
                                                <li>
                                                    <strong>Novel ADCs (antibody-drug conjugates)</strong> demonstrated promising efficacy in previously treatment-resistant cancers.
                                                </li>
                                                <li>
                                                    <strong>Combination immunotherapy approaches</strong> showed improved durability of response in advanced disease settings.
                                                </li>
                                            </ol>
                                            
                                            <p>Key data included landmark survival improvements in early-stage lung cancer and groundbreaking results in triple-negative breast cancer treatments...</p>
                                        </div>
                                        <div class="report-actions">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-file-earmark-text me-1"></i> View Full Report
                                            </button>
                                            <button class="btn btn-sm btn-outline-secondary">
                                                <i class="bi bi-download me-1"></i> Download PDF
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>

    <!-- Initialize charts after the page loads -->
    <script>
        window.onload = function() {
            // Make sure charts are initialized
            setTimeout(() => {
                if (typeof initializeDeepInsightsCharts === 'function') {
                    initializeDeepInsightsCharts();
                }
                if (typeof initializeCompetitiveIntelCharts === 'function') {
                    initializeCompetitiveIntelCharts();
                }
                if (typeof initializePostCongressCharts === 'function') {
                    initializePostCongressCharts();
                }
            }, 1000);
        };
    </script>

    <!-- Venice API Chat Modal -->
    <div class="modal fade" id="veniceApiModal" tabindex="-1" aria-labelledby="veniceApiModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="veniceApiModalLabel">Venice API Chat</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="veniceApiModel" class="form-label">Select Model</label>
                        <select class="form-select" id="veniceApiModel">
                            <option value="llama-3.3-70b" selected>Llama 3.3 70B</option>
                            <option value="llama-3.2-3b">Llama 3.2 3B</option>
                            <option value="mistral-31-24b">Mistral 3.1 24B</option>
                            <option value="dolphin-2.9.2-qwen2-72b">Dolphin 2.9.2 Qwen2 72B</option>
                            <option value="llama-3.1-405b">Llama 3.1 405B</option>
                            <option value="qwen-2.5-coder-32b">Qwen 2.5 Coder 32B</option>
                            <option value="deepseek-r1-671b">DeepSeek R1 671B</option>
                            <option value="qwen-2.5-vl">Qwen 2.5 VL 72B</option>
                            <option value="qwen-2.5-qwq-32b">Qwen 2.5 QwQ 32B</option>
                        </select>
                    </div>
                    <div class="chat-container">
                        <div class="chat-messages" id="veniceApiMessages"></div>
                        <div class="chat-input-container">
                            <textarea class="form-control" id="veniceApiInput" rows="3" placeholder="Type your message..."></textarea>
                            <button class="btn btn-primary mt-2" id="veniceApiSend">Send</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add a button to open the Venice API Chat in the research section -->
    <div class="mb-3">
        <button class="btn btn-primary" id="veniceApiChat">
            <i class="bi bi-chat-dots"></i> Open Venice API Chat
        </button>
    </div>
</body>
</html> 